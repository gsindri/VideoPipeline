analysis:
  audio:
    sample_rate: 16000
    hop_seconds: 0.5
    smooth_seconds: 3.0
    top: 12
    min_gap_seconds: 20.0
    pre_seconds: 8.0
    post_seconds: 22.0
    skip_start_seconds: 10.0
  motion:
    sample_fps: 3.0
    scale_width: 160
    smooth_seconds: 2.5
  scenes:
    enabled: true
    threshold_z: 3.5
    min_scene_len_seconds: 1.2
    snap_window_seconds: 1.0
  highlights:
    top: 20
    min_gap_seconds: 15.0
    skip_start_seconds: 10.0
    weights:
      audio: 0.35
      motion: 0.30
      chat: 0.20
      audio_events: 0.15
    clip:
      min_seconds: 12
      max_seconds: 60
      min_pre_seconds: 2
      max_pre_seconds: 12
      min_post_seconds: 4
      max_post_seconds: 28
  speech:
    enabled: true
    model_size: small
    language: null
    device: cpu
    compute_type: int8
    vad_filter: true
    word_timestamps: true
    hop_seconds: 0.5
  reaction_audio:
    enabled: true
    sample_rate: 16000
    hop_seconds: 0.5
    smooth_seconds: 1.5
  audio_events:
    enabled: true
    hop_seconds: 0.5
    smooth_seconds: 2.0
    sample_rate: 16000
    events:
      laughter: 1.0
      cheering: 0.7
      applause: 0.5
      screaming: 0.8
      shouting: 0.6
  rerank:
    enabled: true
    weights:
      highlight: 0.55
      reaction: 0.25
      speech: 0.20
    hook:
      max_chars: 60
      window_seconds: 4.0
      phrases:
        - "no way"
        - "oh my god"
        - "let's go"
        - "lets go"
        - "bro"
        - "what"
        - "holy"
        - "wtf"
        - "omg"
        - "insane"
        - "clutch"
        - "no shot"
        - "bruh"
        - "dude"
        - "sheesh"
        - "yo"
        - "oh no"
        - "wait"
        - "huh"
        - "wow"
        - "nice"
        - "crazy"
        - "dead"
        - "gg"
        - "pog"
        - "hype"
    quote:
      max_chars: 120

export:
  template: vertical_streamer_pip
  width: 1080
  height: 1920
  fps: 30
  crf: 20
  preset: veryfast
  normalize_audio: false

overlay:
  hook_text:
    enabled: true
    duration_seconds: 2.0
    text: null
    font: auto
    fontsize: 64
    y: 120

layout:
  pip:
    position: top_left
    margin: 40
    width_fraction: 0.28
    border_px: 6

captions:
  enabled: false
  model_size: small
  language: null
  device: cpu
  compute_type: int8

context:
  enabled: true
  top_n: 25
  silence_noise_db: -30.0
  silence_min_duration: 0.3
  max_sentence_words: 30

  variants:
    short:
      min_s: 16
      max_s: 24
    medium:
      min_s: 24
      max_s: 40
    long:
      min_s: 40
      max_s: 75

  boundaries:
    prefer_silence: true
    prefer_sentences: true
    prefer_scene_cuts: true
    prefer_chat_valleys: true
    chat_valley_window_s: 12.0

ai:
  director:
    enabled: true
    engine: llama_cpp_server
    endpoint: "http://127.0.0.1:11435"
    model_name: "local-gguf-vulkan"
    timeout_s: 30
    max_tokens: 256
    temperature: 0.2
    platform: "shorts"
    fallback_to_rules: true
